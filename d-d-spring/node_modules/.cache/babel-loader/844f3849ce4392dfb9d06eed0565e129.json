{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/kuanting/development/recycle-game-sandbox/d-d-spring/src/components/Food.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable no-unused-vars */\nimport React from 'react';\nimport { DragDropContainer } from \"react-drag-drop-container\";\nimport { useSpring, animated } from \"react-spring\";\nimport { useGesture } from \"react-with-gesture\";\nimport \"./Food.css\";\n/* \n    Food is a draggable element (in a DragDropContainer)\n*/\n\nconst calcX = (y, ly) => -(y - ly - window.innerHeight / 2) / 20;\n\nconst calcY = (x, lx) => (x - lx - window.innerWidth / 2) / 20;\n\ndocument.addEventListener('gesturestart', e => e.preventDefault());\ndocument.addEventListener('gesturechange', e => e.preventDefault());\n\nconst Food = props => {\n  _s();\n\n  const landedOn = e => {\n    console.log('I was dropped on ' + e.dropData.name);\n    console.log({\n      'onDrop event passed back to Food': e\n    });\n  };\n\n  const domTarget = React.useRef(null);\n  const [{\n    x,\n    y\n  }, set] = useSpring(() => ({\n    x: 0,\n    y: 0,\n    config: {\n      mass: 5,\n      tension: 350,\n      friction: 40\n    }\n  }));\n  const [drag, setDrag] = React.useState(false);\n  useGesture({\n    onDragStart: () => setDrag(true),\n    onDrag: ({\n      offset: [x, y]\n    }) => set({\n      x,\n      y\n    }),\n    onDragEnd: () => setDrag(false),\n    onMove: ({\n      xy: [px, py],\n      dragging\n    }) => !dragging && set({\n      rotateX: calcX(py, y.get()),\n      rotateY: calcY(px, x.get()),\n      scale: 1.1\n    })\n  }, {\n    domTarget,\n    eventOptions: {\n      passive: false\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(animated.div, {\n    ref: domTarget,\n    className: `${drag ? 'dragging' : ''}`,\n    style: {\n      x,\n      y\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this); // note use of render prop below, rather than child element\n\n  return /*#__PURE__*/_jsxDEV(animated.div, {\n    ref: domTarget,\n    className: `${drag ? 'dragging' : ''}`,\n    style: {\n      x,\n      y\n    },\n    children: /*#__PURE__*/_jsxDEV(DragDropContainer, {\n      targetKey: props.targetKey,\n      dragClone: props.dragClone || false,\n      dragData: {\n        label: props.label,\n        tastes: props.tastes\n      },\n      customDragElement: props.customDragElement,\n      onDrop: landedOn,\n      render: () => {\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: props.image,\n          alt: \"name\",\n          height: \"45\",\n          style: {\n            marginLeft: 40\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 16\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 1\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Food, \"PYLaqvmHgV8cycgd75JsFGZsdwc=\", false, function () {\n  return [useSpring, useGesture];\n});\n\n_c = Food;\nexport default Food;\n\nvar _c;\n\n$RefreshReg$(_c, \"Food\");","map":{"version":3,"sources":["/Users/kuanting/development/recycle-game-sandbox/d-d-spring/src/components/Food.js"],"names":["React","DragDropContainer","useSpring","animated","useGesture","calcX","y","ly","window","innerHeight","calcY","x","lx","innerWidth","document","addEventListener","e","preventDefault","Food","props","landedOn","console","log","dropData","name","domTarget","useRef","set","config","mass","tension","friction","drag","setDrag","useState","onDragStart","onDrag","offset","onDragEnd","onMove","xy","px","py","dragging","rotateX","get","rotateY","scale","eventOptions","passive","targetKey","dragClone","label","tastes","customDragElement","image","marginLeft"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-vars */\nimport React from 'react';\nimport { DragDropContainer } from \"react-drag-drop-container\";\nimport { useSpring, animated } from \"react-spring\";\nimport { useGesture } from \"react-with-gesture\";\nimport \"./Food.css\"\n/* \n    Food is a draggable element (in a DragDropContainer)\n*/\nconst calcX = (y, ly) => -(y - ly - window.innerHeight / 2) / 20\nconst calcY = (x, lx) => (x - lx - window.innerWidth / 2) / 20\n\n\n\ndocument.addEventListener('gesturestart', (e) => e.preventDefault())\ndocument.addEventListener('gesturechange', (e) => e.preventDefault())\nconst Food = (props) => {\n  const landedOn = (e) => {\n    console.log('I was dropped on ' + e.dropData.name)\n    console.log({ 'onDrop event passed back to Food': e });\n  }\n  const domTarget = React.useRef(null)\n  const [{ x, y }, set] = useSpring(() => ({\n \n    \n    x: 0,\n    y: 0,\n    config: { mass: 5, tension: 350, friction: 40 }\n  }))\n\n  \n  const [drag, setDrag] = React.useState(false)\n\n  useGesture(\n    {\n      onDragStart: () => setDrag(true),\n      onDrag: ({ offset: [x, y] }) => set({ x, y, }),\n      onDragEnd: () => setDrag(false),\n     \n      onMove: ({ xy: [px, py], dragging }) => !dragging && set({ rotateX: calcX(py, y.get()), rotateY: calcY(px, x.get()), scale: 1.1 }),\n\n      \n    },\n    { domTarget, eventOptions: { passive: false } }\n  )\n\n  return (\n    <animated.div\n      ref={domTarget}\n      className={`${drag ? 'dragging' : ''}`}\n      style={{  x, y}}\n    >\n   \n    </animated.div>\n  )\n\n  // note use of render prop below, rather than child element\n  return (\n  <animated.div ref={domTarget}\n  className={`${drag ? 'dragging' : ''}`}\n  style={{  x, y}}\n  >\n<DragDropContainer\n      targetKey={props.targetKey}\n      dragClone={props.dragClone || false}\n      dragData={{ label: props.label, tastes: props.tastes }}\n      customDragElement={props.customDragElement}\n      onDrop={landedOn}\n      render={() => {\n        return <img src={props.image} alt=\"name\" height=\"45\" style={{ marginLeft: 40 }} />\n      }}\n    />\n    </animated.div>\n         \n \n  );\n}\nexport default Food;"]},"metadata":{},"sourceType":"module"}